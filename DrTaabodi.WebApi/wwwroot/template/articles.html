<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <title>وبسایت پزشک</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.rtl.min.css"
        integrity="sha384-+qdLaIRZfNu4cVPK/PxJJEy0B0f3Ugv8i482AKY7gwXwhaCroABd086ybrVKTa0q" crossorigin="anonymous"
  >
  <link rel="stylesheet"
        href="/template/resources/frameworks/fontawesome-free-5.15.4-web/css/all.min.css"
  >
  <link rel="stylesheet" href="/template/resources/styles/fonts/fonts.css">
  <link rel="stylesheet" href="/template/resources/styles/template.css">
</head>
<body>

<div class="d-flex flex-column min-vh-100 bg-light" id="faq-app-container">
  [header]

  <template v-if="data">
    <main class="flex-fill container p-5">

      <div class="row justify-content-center">
        <div class="col-sm-4" v-for="(x,k) in data.contents" :key="x.PstId">
          <a :href="`/article/${x.PstId}`" class="card shadow-sm h-100 text-decoration-none">
            <div class="aspect-70">
              <img :src="x.ImagePath" :alt="x.PstTitle"/>
            </div>
            <div class="card-body text-center">
              <div class="h3 text-info">{{x.PstTitle}}</div>
              <div class="text-black-50">{{x.PstDescription}}</div>
            </div>
          </a>
        </div>
      </div>

    </main>

    <form method="get" class="mt-3">
      <input type="hidden" name="per_page" :value="data.perPage"/>

      <ul class="pagination mx-auto justify-content-center">
        <li class="page-item" v-if="data.page > 1">
          <button type="submit" class="page-link" name="page" :value="data.page - 1">قبلی</button>
        </li>

        <li class="page-item" v-for="x in data.totalPages" :key="x" :class="{'active' : x === data.page}">
          <button type="submit" class="page-link" name="page" :value="x">{{x}}</button>
        </li>


        <li class="page-item" v-if="data.totalPages > data.page">
          <button type="submit" class="page-link" name="page" :value="data.page + 1">بعدی</button>
        </li>
      </ul>
    </form>
  </template>

  <div class="mt-3">
    [footer]
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"
></script>

<!--development version-->
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
<!--product version-->
<!--<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>-->

<script src="/template/resources/scripts/main.min.js"></script>
<script>
  var DATA = [JSON_DATA]
  console.log(DATA)
  new Vue({
    el: '#faq-app-container',
    data: () => ({
      data: DATA,
    }),
  })
</script>
</body>
</html>
